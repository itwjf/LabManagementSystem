<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.labmanagementsystem.mapper.LabInfoMapper">

    <!-- 分页查询：所有实训室信息 -->
    <select id="selectAllLabs" resultType="com.example.labmanagementsystem.entity.LabInfo">
        SELECT
            *
        FROM lab_info
        WHERE 1=1
        <if test="labName != null and labName != ''">
            AND lab_name LIKE CONCAT('%', #{labName}, '%')
        </if>
        <if test="location != null and location != ''">
            AND location LIKE CONCAT('%', #{location}, '%')
        </if>
        <if test="status != null and status != ''">
            AND status = #{status}
        </if>
        ORDER BY create_time DESC
    </select>

</mapper>